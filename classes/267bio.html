<!DOCTYPE html>
<!-- saved from url=(0043)https://ankitmathur267assignment0.carrd.co/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Ankit Mathur - CS 267 Assignment 0</title><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="description" content="Assignment 0 for CS267"><meta property="og:site_name" content="Ankit Mathur - CS 267 Assignment 0"><meta property="og:title" content="Ankit Mathur - CS 267 Assignment 0"><meta property="og:type" content="article"><meta property="og:image" content="https://ankitmathur267assignment0.carrd.co/assets/images/card.jpg?v60650346066151"><meta property="og:description" content="Assignment 0 for CS267"><meta property="og:url" content="https://ankitmathur267assignment0.carrd.co"><meta property="twitter:card" content="summary_large_image"><link href="./267bio_files/main.css" rel="stylesheet" type="text/css"><style>html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}table{border-collapse:collapse;border-spacing:0;}body{-webkit-text-size-adjust:none}mark{background-color:transparent;color:inherit}input::-moz-focus-inner{border:0;padding:0}input[type="text"],input[type="email"],select,textarea{-moz-appearance:none;-webkit-appearance:none;-ms-appearance:none;appearance:none}*, *:before, *:after {box-sizing: border-box;}body {min-width: 320px;min-height: 100vh;line-height: 1.0;word-wrap: break-word;overflow-x: hidden;background-color: #FFFFFF;}strong {color: inherit;font-weight: bolder;}em {font-style: italic;}code {font-family: "Lucida Console", "Courier New", monospace;font-weight: normal;text-indent: 0;letter-spacing: 0;font-size: 0.9em;margin: 0 0.25em;padding: 0.25em 0.5em;background-color: rgba(144,144,144,0.25);border-radius: 0.25em;}mark {background-color: rgba(144,144,144,0.25);}a {-moz-transition: color 0.25s ease, background-color 0.25s ease, border-color 0.25s ease;-webkit-transition: color 0.25s ease, background-color 0.25s ease, border-color 0.25s ease;-ms-transition: color 0.25s ease, background-color 0.25s ease, border-color 0.25s ease;transition: color 0.25s ease, background-color 0.25s ease, border-color 0.25s ease;color: inherit;text-decoration: underline;}s {text-decoration: line-through;}html {font-size: 18pt;}#wrapper {-webkit-overflow-scrolling: touch;display: -moz-flex;display: -webkit-flex;display: -ms-flex;display: flex;-moz-flex-direction: column;-webkit-flex-direction: column;-ms-flex-direction: column;flex-direction: column;-moz-align-items: center;-webkit-align-items: center;-ms-align-items: center;align-items: center;-moz-justify-content: center;-webkit-justify-content: center;-ms-justify-content: center;justify-content: center;min-height: 100vh;position: relative;z-index: 2;overflow: hidden;}#main {display: -moz-flex;display: -webkit-flex;display: -ms-flex;display: flex;position: relative;max-width: 100%;z-index: 1;-moz-align-items: center;-webkit-align-items: center;-ms-align-items: center;align-items: center;-moz-justify-content: center;-webkit-justify-content: center;-ms-justify-content: center;justify-content: center;-moz-flex-grow: 0;-webkit-flex-grow: 0;-ms-flex-grow: 0;flex-grow: 0;-moz-flex-shrink: 0;-webkit-flex-shrink: 0;-ms-flex-shrink: 0;flex-shrink: 0;text-align: center;-moz-transition: opacity 1s ease-in-out 0s;-webkit-transition: opacity 1s ease-in-out 0s;-ms-transition: opacity 1s ease-in-out 0s;transition: opacity 1s ease-in-out 0s;}#main > .inner {position: relative;z-index: 1;border-radius: inherit;padding: 1.25rem 1rem;max-width: 100%;width: 37rem;}#main > .inner > * {margin-top: 1.125rem;margin-bottom: 1.125rem;}#main > .inner > :first-child {margin-top: 0 !important;}#main > .inner > :last-child {margin-bottom: 0 !important;}#main > .inner > .full {margin-left: calc(-1rem);width: calc(100% + 2rem + 0.4725px);max-width: calc(100% + 2rem + 0.4725px);}#main > .inner > .full:first-child {margin-top: -1.25rem !important;border-top-left-radius: inherit;border-top-right-radius: inherit;}#main > .inner > .full:last-child {margin-bottom: -1.25rem !important;border-bottom-left-radius: inherit;border-bottom-right-radius: inherit;}#main > .inner > .full.screen {width: 100vw;max-width: 100vw;position: relative;border-radius: 0 !important;left: 50%;right: auto;margin-left: -50vw;}body.is-loading #main {opacity: 0;}hr {width: 100%;position: relative;padding: 0;border: 0;height: 1.625rem;line-height: 1.625rem;}hr:before {content: '';display: inline-block;vertical-align: middle;width: 100%;background-color: #CCCCCC;height: 1px;}#divider02 {height: 0.5rem;line-height: 0.5rem;}#divider02:before {width: 6%;}h1 br + br, h2 br + br, h3 br + br, p br + br {display: block;content: ' ';margin-top: 1.125rem;}h1 .li, h2 .li, h3 .li, p .li {display: list-item;padding-left: 0.5em;margin: 0.75em 0 0 1em;}#text03 br + br {margin-top: 0.75rem;}#text03 {letter-spacing: 0.4rem;width: calc(100% + 0.4rem);font-size: 1.5em;line-height: 1.25;font-weight: 400;text-align: inherit;}#text04 br + br {margin-top: 0.9rem;}#text04 {letter-spacing: 0.225rem;width: calc(100% + 0.225rem);font-size: 0.75em;line-height: 1.5;font-weight: 400;text-align: inherit;}#text05 br + br {margin-top: 0.9rem;}#text05 {letter-spacing: 0.4rem;width: calc(100% + 0.4rem);line-height: 1.5;font-weight: 400;text-align: inherit;}#text06 {text-transform: none;}#text01 br + br {margin-top: 0.9rem;}#text01 {letter-spacing: 0.4rem;width: calc(100% + 0.4rem);line-height: 1.5;font-weight: 400;text-align: inherit;}#text08 {text-transform: none;}#text09 br + br {margin-top: 1.2rem;}#text09 {letter-spacing: 0.175rem;width: calc(100% + 0.175rem);font-size: 1.125em;line-height: 2;font-weight: 400;text-transform: none;}#text11 {text-transform: none;}#text02 br + br {margin-top: 1.2rem;}#text02 {letter-spacing: 0.175rem;width: calc(100% + 0.175rem);font-size: 1.125em;line-height: 2;font-weight: 400;text-transform: none;}#text07 {text-transform: none;}#text12 {text-align: center;text-transform: none;}#text10 {text-transform: none;}#credits {font-size: 0.6em;text-transform: none;text-align: inherit;cursor: default;margin-top: 1rem !important;}#credits a {text-decoration: underline;-moz-transition: opacity 0.25s ease;-webkit-transition: opacity 0.25s ease;-ms-transition: opacity 0.25s ease;transition: opacity 0.25s ease;opacity: 0.5;text-decoration: none !important;}#credits a:hover {text-decoration: none;opacity: 1;text-decoration: none !important;}h1, h2, h3, p {text-transform: uppercase;color: #474747;font-family: 'Source Sans Pro';letter-spacing: 0.025rem;width: calc(100% + 0.025rem);font-size: 1em;line-height: 1.875;font-weight: 200;text-align: left;}@media (max-width: 1680px) {html {font-size: 13pt;}}@media (max-width: 1280px) {html {font-size: 13pt;}}@media (max-width: 980px) {html {font-size: 11pt;}}@media (max-width: 736px) {html {font-size: 11pt;}#main > .inner {padding: 1.25rem 1rem;}#main > .inner > * {margin-top: 1.125rem;margin-bottom: 1.125rem;}#main > .inner > .full {margin-left: calc(-1rem);width: calc(100% + 2rem + 0.4725px);max-width: calc(100% + 2rem + 0.4725px);}#main > .inner > .full:first-child {margin-top: -1.25rem !important;}#main > .inner > .full:last-child {margin-bottom: -1.25rem !important;}#main > .inner > .full.screen {margin-left: -50vw;}#divider01 {height: 1.625rem;line-height: 1.625rem;}#divider02 {height: 0.5rem;line-height: 0.5rem;}#divider03 {height: 1.625rem;line-height: 1.625rem;}}@media (max-width: 480px) {#main > .inner > * {margin-top: 0.984375rem;margin-bottom: 0.984375rem;}}@media (max-width: 360px) {#main > .inner {padding: 0.9375rem 0.75rem;}#main > .inner > * {margin-top: 0.84375rem;margin-bottom: 0.84375rem;}#main > .inner > .full {margin-left: calc(-0.75rem);width: calc(100% + 1.5rem + 0.4725px);max-width: calc(100% + 1.5rem + 0.4725px);}#main > .inner > .full:first-child {margin-top: -0.9375rem !important;}#main > .inner > .full:last-child {margin-bottom: -0.9375rem !important;}#main > .inner > .full.screen {margin-left: -50vw;}}</style><noscript>&lt;style&gt;body {overflow: auto !important;}#main {opacity: 1.0 !important;-moz-transform: none !important;-webkit-transform: none !important;-ms-transform: none !important;transform: none !important;-moz-transition: none !important;-webkit-transition: none !important;-ms-transition: none !important;transition: none !important;-moz-filter: none !important;-webkit-filter: none !important;-ms-filter: none !important;filter: none !important;}#main &gt; .inner &gt; section {opacity: 1.0 !important;-moz-transform: none !important;-webkit-transform: none !important;-ms-transform: none !important;transform: none !important;-moz-transition: none !important;-webkit-transition: none !important;-ms-transition: none !important;transition: none !important;-moz-filter: none !important;-webkit-filter: none !important;-ms-filter: none !important;filter: none !important;}&lt;/style&gt;</noscript><style></style></head><body class="is-ready"><div id="wrapper"><div id="main"><div class="inner"><hr id="divider01"><h1 id="text03">CS 267 - Assignment 0</h1><hr id="divider02"><p id="text04">Ankit Mathur</p><p id="text05">Bio</p><p id="text06"><span>I'm Ankit Mathur, a 4th year undergraduate student majoring in Electrical Engineering and Computer Science, and I currently do research in RiseLab with Professor Ion Stoica and in natural language processing with Professor David Bamman. My current research interests surround the interplay of machine learning and systems - how can machine learning be used to improve systems and vice versa?</span><br> <br> <span>I'm really interested in parallel approaches to new problems. What I want to get out of this class is a solid understanding of the typical approaches used to attack problems from a parallel standpoint, along with experience working on a large scale research-style project. I'm really excited about the opportunity to bring these parallel approaches to machine learning or even data analysis problems in one of the wide variety of other fields (like astrophysics or mechanical engineering).</span></p><p id="text01">Distributed Neural Network Training</p><p id="text08">This is an interesting problem because as models grow larger and more complex, the desire to reduce training time is significant. Thus, parallel methods need to be considered. Tensorflow, the standard language used for training complex neural network models.</p><h2 id="text09">Challenge</h2><p id="text11"><span>A fundamental conceptual challenge with making this problem distributed is that many of these models reference results that were previously generated. In a neural network, the activations from the previous layer are passed to the next layer. Furthermore, in the training, the gradient descent is based upon all the activations and propagated backwards along the gradient graph. This poses inherent challenges to a distributed approach.</span><br> <br> <span>Furthermore, even if the graph is split up and distributed to many machines, a fundamental scaling limit is imposed by the batch size - if your batch size is 1000 and you have 500 workers, each one takes 2 images. At this point, the communication to value ratio is too high. Therefore, recent work in this field focuses on increasing the batch size. However, usually, increasing batch size tends to reduce the accuracy.</span></p><h2 id="text02">Approaches</h2><p id="text07"><span>One approach is model parallelism: the problem that needs to be solved is that certain models do not fit into the memory of a given processor. Thus, the models are trained across multiple computers. </span><br> <br> <span>In-graph replication is a way of doing this. In in-graph replication, a single gradient graph is created, with variables that are shared across the multiple cores or processes.</span><br> <br> <span>Next, there is between-graph replication and the approach of data-parallelism. In this scenario, each core generates its own "similar" version of the graph, and this is the current state of distributed approaches in Tensorflow now. After each worker performs an update to the gradients based on its own mini-batch, a gradient aggregation step must be performed to update the original graph. </span><br> <br> <span>A common approach that is desirable in this instance is *synchronous stochastic gradient descent" - this makes it such that there is sequential consistency.</span><br> <br> <span>A paper from Facebook, "Accurate, Large Minibatch SGD: Training ImageNet in 1 Hour" offers a fascinating new method by which distributed training can occur. Some strategies that they use is using smaller learning rates at the start of training to account for optimization randomness. Furthermore, it contends that one of the most effective methods for performing distributed minibatch training is to scale the learning rate with the number of workers linearly. This approach used a variation on between-graph replication with several critical implementation tricks regarding gradient aggregation and scaling. </span><br> <br> <span>While on a standard setup of 8 GPUs, the training time for the popular ImageNet model is around 29 hours, the parallel approach used by Facebook (Goyal '17) was able to train to essentially the same accuracy in 1 hour, using larger batch sizes and 256 GPUs. This is a huge win.</span><br> <br> <span>A paper out of Berkeley with research by Professor Demmel utilized supercomputers and a similar parallel approach to amazing effect, training using LARS (an approach for adjusting the batch size) to incredible effect. They were able to train ImageNet in 20 minutes with no reduction in accuracy! No comparison here is provided to understand the percentage of the flops that the supercomputer offered were actually used.</span><br> <br> <span>The paper used the ImageNet-1K dataset, which has 1.28 million images for training. The Caffe framework was used for the models on a single machine, and MPI was used for communications between machines on the KNL (Intel Knights Landing accelerators) clusters. Specifically, Intel Caffe was used, allowing for using MLSL by Intel for multi-node training. This model was run on the TACC Stampede 2 supercomputer, which ranks number 12 on the top500 list.</span></p><p id="text12">References</p><p id="text10"><span>Goyal et al "Accurate, Large Minibatch SGD: Training ImageNet in 1 Hour" https://arxiv.org/abs/1706.02677</span><br> <br> <span>You et al "ImageNet Training in Minutes" https://arxiv.org/abs/1709.05011</span></p><hr id="divider03"><p id="credits"><a href="https://carrd.co/">( Made with Carrd )</a></p></div></div></div><script>var on = addEventListener,$ = function(q) { return document.querySelector(q) },$$ = function(q) { return document.querySelectorAll(q) },$body = document.body,$inner = $('.inner'),client = (function() {var o = {browser: 'other',browserVersion: 0,os: 'other',osVersion: 0},ua = navigator.userAgent,a, i;a = [['firefox', /Firefox\/([0-9\.]+)/],['edge', /Edge\/([0-9\.]+)/],['safari', /Version\/([0-9\.]+).+Safari/],['chrome', /Chrome\/([0-9\.]+)/],['ie', /Trident\/.+rv:([0-9]+)/]];for (i=0; i < a.length; i++) {if (ua.match(a[i][1])) {o.browser = a[i][0];o.browserVersion = parseFloat(RegExp.$1);break;}}a = [['ios', /([0-9_]+) like Mac OS X/, function(v) { return v.replace('_', '.').replace('_', ''); }],['ios', /CPU like Mac OS X/, function(v) { return 0 }],['android', /Android ([0-9\.]+)/, null],['mac', /Macintosh.+Mac OS X ([0-9_]+)/, function(v) { return v.replace('_', '.').replace('_', ''); }],['windows', /Windows NT ([0-9\.]+)/, null]];for (i=0; i < a.length; i++) {if (ua.match(a[i][1])) {o.os = a[i][0];o.osVersion = parseFloat( a[i][2] ? (a[i][2])(RegExp.$1) : RegExp.$1 );break;}}return o;}()),trigger = function(t) {if (client.browser == 'ie') {var e = document.createEvent('Event');e.initEvent(t, false, true);dispatchEvent(e);} else dispatchEvent(new Event(t));};on('load', function() {setTimeout(function() {$body.className = $body.className.replace(/\bis-loading\b/, 'is-playing');setTimeout(function() {$body.className = $body.className.replace(/\bis-playing\b/, 'is-ready');}, 1000);}, 100);});var style, sheet, rule;style = document.createElement('style');style.appendChild(document.createTextNode(''));document.head.appendChild(style);sheet = style.sheet;if (client.os == 'android') {(function() {sheet.insertRule('body::after { }', 0);rule = sheet.cssRules[0];var f = function() {rule.style.cssText = 'height: ' + (Math.max(screen.width, screen.height)) + 'px';};on('load', f);on('orientationchange', f);on('touchmove', f);})();} else  if (client.os == 'ios') {(function() {sheet.insertRule('body::after { }', 0);rule = sheet.cssRules[0];rule.style.cssText = '-webkit-transform: scale(1.0)';})();(function() {sheet.insertRule('body.ios-focus-fix::before { }', 0);rule = sheet.cssRules[0];rule.style.cssText = 'height: calc(100% + 60px)';on('focus', function(event) {$body.classList.add('ios-focus-fix');}, true);on('blur', function(event) {$body.classList.remove('ios-focus-fix');}, true);})();} else  if (client.browser == 'ie') {(function() {var t, f;f = function() {var mh, h, s, xx, x, i;x = $('#wrapper');x.style.height = 'auto';if (x.scrollHeight <= innerHeight)x.style.height = '100vh';xx = $$('.container.full');for (i=0; i < xx.length; i++) {x = xx[i];s = getComputedStyle(x);x.style.minHeight = '';x.style.height = '';mh = s.minHeight;x.style.minHeight = 0;x.style.height = '';h = s.height;if (mh == 0)continue;x.style.height = (h > mh ? 'auto' : mh);}};(f)();on('resize', function() {clearTimeout(t);t = setTimeout(f, 250);});on('load', f);})();}</script></body></html>